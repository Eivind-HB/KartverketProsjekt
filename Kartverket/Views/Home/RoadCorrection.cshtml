@{
    ViewData["Title"] = "Rett i veier og stier";
}

<div class="text-center">
    <h1 class="display-4">Rett i veger og stier</h1>
    <p>Her kan du vise til endringer i kartet</p>
</div>

<!-- Flex container for map and where you edit the changes -->
<div class="map-change-container">
    <!-- Map section -->
    
    <button id="curLocationButton">Finn min posisjon</button>
    
    <div id="map" class="map-section"></div>
    
    <!-- Description section -->
    <div class="description-section">
        <form asp-action="RegisterAreaChange" method="post">
            <input type="hidden" id="geoJsonInput" name="geoJson" />
            <div>
                <label for="description">Beskriv endringen du vil melde:</label>
                <textarea id="description" name="Description" class="form-control"></textarea>
            </div>
            <br />
            <button type="submit" class="btn btn-primary">Send inn</button>
        </form>
    </div>
</div>

@*Kommune Information via API:*@
<h2>Søk etter kommune informasjon</h2>
<form asp-action="KommuneInfoApi" method="post">
    @Html.AntiForgeryToken()
    <label for="latitude">Høydegrad:</label>
    <input type="number" id="latitude" name="Høydegrad" />
    <label for="longitude">Lengdegrad:</label>
    <input type="number" id="longitude" name="Lengdegrad" />
    <button type="submit">Søk</button>
</form>

@if (ViewData["Error"] != null)
{
    <div class="alert alert-danger">
        @ViewData["Error"]
    </div>
}

@*Kommune information showing up when searched for*@
@if (Model != null)
{
    <h2>Kommune informasjon</h2>

    <p>Kommunenavn: @Model.Kommunenavn</p>
    <p>Kommunenummer: @Model.Kommunenummer</p>
    <p>Fylkesnavn: @Model.Fylkesnavn</p>
    <p>Samisk Forvaltningsområde: @(Model.SamiskForvaltningsomrade ? "Ja" : "Nei")</p>
}

@section Scripts {
    <script src="~/js/leafletMap.js"></script>
    <script src="~/js/leafletDraw.js"></script>
}
