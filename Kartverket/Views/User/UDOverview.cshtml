@model Kartverket.Data.User

<div class="page-container ud-overview-container">
    <h1>Du har nå registrert deg</h1>
    <p class="lead">Her er en oversikt over din registrerte informasjon:</p>

    @if (Model != null)
    {
        <div class="user-info-card">
            <h2>Din informasjon</h2>
        <div class="info-item">
            <strong>Navn:</strong>
            <span>@Model.UserName</span>
        </div>
        <div class="info-item">
            <strong>Email:</strong>
            <span>@Model.Mail</span>
        </div>
        <div class="info-item">
            <strong>Bruker ID:</strong>
            <span>@Model.UserID</span>
        </div>
    </div>
    }
    else 
    {
        <p>Det ser ut som at noe har gått galt her. Prøv å registrere deg igjen <a href="/Home/RegistrationForm">her</a></p>
    }

    

<h2>User Profile</h2>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">@TempData["Message"]</div>
}

<form asp-action="UpdateProfile" method="post">
    <div class="form-group">
        <label asp-for="UserName">Username:</label>
        <input asp-for="UserName" class="form-control" />
        <span asp-validation-for="UserName" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Mail">Email:</label>
        <input asp-for="Mail" class="form-control" type="email" />
        <span asp-validation-for="Mail" class="text-danger"></span>
    </div>
    <button type="submit" class="btn btn-primary">Update Profile</button>
</form>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const udOverviewNavItem = document.querySelector('.nav-item a[href*="UDOverview"]');
            if (udOverviewNavItem) {
                udOverviewNavItem.parentElement.style.backgroundColor = 'var(--light-green)';
            }
        });
    </script>
}